{
  "version": 3,
  "sources": [
    "/home/travis/build/oposs/headerpuppet/node_modules/@qooxdoo/compiler/node_modules/@qooxdoo/framework/framework/source/class/qx/core/ObjectRegistry.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "define",
    "statics",
    "inShutDown",
    "__registry",
    "__nextHash",
    "__freeHashes",
    "__postId",
    "__stackTraces",
    "register",
    "obj",
    "registry",
    "hash",
    "$$hash",
    "cache",
    "length",
    "pop",
    "dispose",
    "Error",
    "unregister",
    "push",
    "ex",
    "removeAttribute",
    "toHashCode",
    "clearHashCode",
    "fromHashCode",
    "suppressWarnings",
    "log",
    "Logger",
    "warn",
    "hasHashCode",
    "shutdown",
    "hashes",
    "sort",
    "a",
    "b",
    "parseInt",
    "i",
    "l",
    "error",
    "toString",
    "debug",
    "getRegistry",
    "getNextHash",
    "getPostId",
    "getStackTraces",
    "defer",
    "window",
    "top",
    "frames",
    "core",
    "ObjectRegistry"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2007-2008 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Sebastian Werner (wpbasti)\n\n************************************************************************ */\n\n/**\n * Registration for all instances of qooxdoo classes. Mainly\n * used to manage them for the final shutdown sequence and to\n * use weak references when connecting widgets to DOM nodes etc.\n *\n * @ignore(qx.dev, qx.dev.Debug.*)\n */\nqx.Bootstrap.define(\"qx.core.ObjectRegistry\",\n{\n  /*\n  *****************************************************************************\n     STATICS\n  *****************************************************************************\n  */\n\n  statics :\n  {\n    /** \n     * @type {Boolean} Whether the application is in the shutdown phase\n     * @deprecated {6.0} shutdown is not a valid mechanism to terminate apps \n     * */\n    inShutDown : false,\n\n    /** @type {Map} Internal data structure to store objects */\n    __registry : {},\n\n    /** @type {Integer} Next new hash code. */\n    __nextHash : 0,\n\n    /** @type {Array} List of all free hash codes */\n    __freeHashes : [],\n\n    /** @type {String} Post id for hash code creation. */\n    __postId : \"\",\n\n    /** @type {Map} Object hashes to stack traces (for dispose profiling only) */\n    __stackTraces : {},\n\n    /**\n     * Registers an object into the database. This adds a hashcode\n     * to the object (if not already done before) and stores it under\n     * this hashcode. You can access this object later using the hashcode\n     * by calling {@link #fromHashCode}.\n     *\n     * All registered objects are automatically disposed on application\n     * shutdown. Each registered object must at least have a method\n     * called <code>dispose</code>.\n     *\n     * @param obj {Object} Any object with a dispose() method\n     */\n    register : function(obj)\n    {\n      var registry = this.__registry;\n      if (!registry) {\n        return;\n      }\n\n      var hash = obj.$$hash;\n      if (hash == null)\n      {\n        // Create new hash code\n        var cache = this.__freeHashes;\n        if (cache.length > 0 && !qx.core.Environment.get(\"qx.debug.dispose\")) {\n          hash = cache.pop();\n        } else {\n          hash = (this.__nextHash++) + this.__postId;\n        }\n\n        // Store hash code\n        obj.$$hash = hash;\n\n        if (qx.core.Environment.get(\"qx.debug.dispose\")) {\n          if (qx.dev && qx.dev.Debug && qx.dev.Debug.disposeProfilingActive) {\n            this.__stackTraces[hash] = qx.dev.StackTrace.getStackTrace();\n          }\n        }\n      }\n\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (!obj.dispose) {\n          throw new Error(\"Invalid object: \" + obj);\n        }\n      }\n\n      registry[hash] = obj;\n    },\n\n\n    /**\n     * Removes the given object from the database.\n     *\n     * @param obj {Object} Any previously registered object\n     */\n    unregister : function(obj)\n    {\n      var hash = obj.$$hash;\n      if (hash == null) {\n        return;\n      }\n\n      var registry = this.__registry;\n      if (registry && registry[hash])\n      {\n        delete registry[hash];\n        this.__freeHashes.push(hash);\n      }\n\n      // Delete the hash code\n      try\n      {\n        delete obj.$$hash;\n      }\n      catch(ex)\n      {\n        // IE has trouble directly removing the hash\n        // but it's ok with using removeAttribute\n        if (obj.removeAttribute) {\n          obj.removeAttribute(\"$$hash\");\n        }\n      }\n    },\n\n\n    /**\n     * Returns an unique identifier for the given object. If such an identifier\n     * does not yet exist, create it.\n     *\n     * @param obj {Object} the object to get the hashcode for\n     * @return {String} unique identifier for the given object\n     */\n    toHashCode : function(obj)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (obj == null) {\n          throw new Error(\"Invalid object: \" + obj);\n        }\n      }\n\n      var hash = obj.$$hash;\n      if (hash != null) {\n        return hash;\n      }\n\n      // Create new hash code\n      var cache = this.__freeHashes;\n      if (cache.length > 0) {\n        hash = cache.pop();\n      } else {\n        hash = (this.__nextHash++) + this.__postId;\n      }\n\n      // Store\n      return obj.$$hash = hash;\n    },\n\n\n    /**\n     * Clears the unique identifier on the given object.\n     *\n     * @param obj {Object} the object to clear the hashcode for\n     */\n    clearHashCode : function(obj)\n    {\n      if (qx.core.Environment.get(\"qx.debug\"))\n      {\n        if (obj == null) {\n          throw new Error(\"Invalid object: \" + obj);\n        }\n      }\n\n      var hash = obj.$$hash;\n      if (hash != null)\n      {\n        this.__freeHashes.push(hash);\n\n        // Delete the hash code\n        try\n        {\n          delete obj.$$hash;\n        }\n        catch(ex)\n        {\n          // IE has trouble directly removing the hash\n          // but it's ok with using removeAttribute\n          if (obj.removeAttribute) {\n            obj.removeAttribute(\"$$hash\");\n          }\n        }\n      }\n    },\n\n\n    /**\n     * Get an object instance by its hash code as returned by {@link #toHashCode}.\n     * If the object is already disposed or the hashCode is invalid,\n     * <code>null</code> is returned.\n     *\n     * @param hash {String} The object's hash code.\n     * @param suppressWarnings {Boolean?} if true warnings are suppressed; default is false\n     * @return {qx.core.Object} The corresponding object or <code>null</code>.\n     */\n    fromHashCode : function(hash, suppressWarnings) {\n      var obj = this.__registry[hash] || null;\n      if (!obj && !suppressWarnings) {\n        qx.log.Logger.warn(this, \"Object with hash code \"+ hash + \" does not exist (since Qooxdoo 6.0 fromHashCode requires that you explicitly register objects with qx.core.ObjectRegistry.register)\");\n      }\n      return obj;\n    },\n\n\n    /**\n     * Detects whether an object instance is indexed by its hash code as returned by {@link #toHashCode}.\n     * Unlike {@link #fromHashCode} this does not output warnings if the object does not exist\n     *\n     * @param hash {String} The object's hash code.\n     * @return {qx.core.Object} The corresponding object or <code>null</code>.\n     */\n    hasHashCode : function(hash) {\n      return !!this.__registry[hash];\n    },\n\n\n    /**\n     * Disposing all registered object and cleaning up registry. This is\n     * automatically executed at application shutdown.\n     * \n     * @deprecated {6.0} shutdown is not a valid means to clean up because destruction order\n     * is not defined and dispose()/destructors are deprecated in favour of automatic\n     * garbage collection\n     */\n    shutdown : function()\n    {\n      this.inShutDown = true;\n\n      var registry = this.__registry;\n      var hashes = [];\n\n      for (var hash in registry) {\n        hashes.push(hash);\n      }\n\n      // sort the objects! Remove the objecs created at startup\n      // as late as possible\n      hashes.sort(function(a, b) {\n        return parseInt(b, 10)-parseInt(a, 10);\n      });\n\n      var obj, i=0, l=hashes.length;\n      while(true)\n      {\n        try\n        {\n          for (; i<l; i++)\n          {\n            hash = hashes[i];\n            obj = registry[hash];\n\n            if (obj && obj.dispose) {\n              obj.dispose();\n            }\n          }\n        }\n        catch(ex)\n        {\n          qx.Bootstrap.error(this, \"Could not dispose object \" + obj.toString() + \": \" + ex, ex);\n\n          if (i !== l)\n          {\n            i++;\n            continue;\n          }\n        }\n\n        break;\n      }\n\n      qx.Bootstrap.debug(this, \"Disposed \" + l + \" objects\");\n\n      delete this.__registry;\n    },\n\n\n    /**\n     * Returns the object registry.\n     *\n     * @return {Object} The registry\n     */\n    getRegistry : function() {\n      return this.__registry;\n    },\n\n\n    /**\n     * Returns the next hash code that will be used\n     *\n     * @return {Integer} The next hash code\n     * @internal\n     */\n    getNextHash : function() {\n      return this.__nextHash;\n    },\n\n\n    /**\n     * Returns the postfix that identifies the current iframe\n     *\n     * @return {Integer} The next hash code\n     * @internal\n     */\n    getPostId : function() {\n      return this.__postId;\n    },\n\n\n    /**\n     * Returns the map of stack traces recorded when objects are registered\n     * (for dispose profiling)\n     * @return {Map} Map: object hash codes to stack traces\n     * @internal\n     */\n    getStackTraces : function() {\n      return this.__stackTraces;\n    }\n  },\n\n  defer : function(statics)\n  {\n    if (window && window.top)\n    {\n      var frames = window.top.frames;\n      for (var i = 0; i < frames.length; i++)\n      {\n        if (frames[i] === window)\n        {\n          statics.__postId = \"-\" + (i + 1);\n          return;\n        }\n      }\n    }\n    statics.__postId = \"-0\";\n  }\n});\n"
  ]
}